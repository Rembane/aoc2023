Check ← /↧↧⊃(↧⊙>≤3,0⌵)(=1/+◰<0)↘1⍜↻-1.

⊜(□⊜⋕≠@ .) ≠@\n. &fras"input"
⊃(&p "Part 2:"
  &s /+≡(↥◇⊃(/↥≡(Check▽) ⊙¤¬⊞=.°⊏)Check)
)(&p "Part 1:"
  &s /+≡◇Check
)
