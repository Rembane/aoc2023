# This solution takes some seconds to run,
# so there's room for optimization here.
⊜(⊜(□⊜⋕≠@ .)¬⦷": ".)≠@\n.&fras"input"
≡(⊃(↘1|↙1):⊢∩°□◇°⊟
  ∧(⊂⊂⊓⊓+×(≡(⋕⊂°□:)¤∩°⋕),,,,)
  ∈⊙.
)
/+▽
